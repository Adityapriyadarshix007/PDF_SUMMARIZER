<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEURAL PDF DECODER v2.077</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', monospace;
            background: #0a0a0a;
            color: #00ff88;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Cyberpunk Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(0, 255, 136, 0.2) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            z-index: -1;
        }

        /* Animated Grid Background */
        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 136, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 136, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
            z-index: -1;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            position: relative;
        }

        .hud-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(26, 26, 46, 0.8) 100%);
            border-bottom: 2px solid #00ff88;
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 30px;
        }

        .system-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            font-weight: 900;
            color: #00ff88;
            text-shadow: 0 0 20px #00ff88;
            letter-spacing: 2px;
        }

        .system-status {
            margin-left: auto;
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
        }

        .status-item {
            padding: 5px 15px;
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid #00ff88;
            border-radius: 15px;
            font-weight: 500;
        }

        .header {
            text-align: center;
            margin: 100px 0 50px 0;
            animation: glitchIn 1s ease-out;
        }

        .header h1 {
            font-family: 'Orbitron', monospace;
            font-size: 4rem;
            font-weight: 900;
            color: #00ff88;
            text-shadow: 
                0 0 20px #00ff88,
                0 0 40px #00ff88,
                0 0 80px #00ff88;
            margin-bottom: 20px;
            letter-spacing: 4px;
        }

        .header .subtitle {
            font-size: 1.3rem;
            color: #ff0088;
            font-weight: 600;
            letter-spacing: 1px;
            text-shadow: 0 0 10px #ff0088;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            animation: slideInUp 1s ease-out 0.3s both;
        }

        .panel {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ff88;
            border-radius: 15px;
            padding: 30px;
            position: relative;
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
            box-shadow: 
                inset 0 0 50px rgba(0, 255, 136, 0.1),
                0 0 50px rgba(0, 255, 136, 0.2);
        }

        .panel:hover {
            border-color: #ff0088;
            box-shadow: 
                inset 0 0 50px rgba(255, 0, 136, 0.1),
                0 0 50px rgba(255, 0, 136, 0.3);
            transform: translateY(-5px);
        }

        .panel::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #00ff88, #ff0088, #00ff88);
            border-radius: 15px;
            opacity: 0;
            z-index: -1;
            transition: opacity 0.3s ease;
        }

        .panel:hover::before {
            opacity: 0.3;
        }

        .panel-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: #00ff88;
            text-shadow: 0 0 10px #00ff88;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
        }

        .upload-zone {
            border: 3px dashed #00ff88;
            border-radius: 15px;
            padding: 50px 30px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            background: 
                radial-gradient(circle at center, rgba(0, 255, 136, 0.1) 0%, transparent 70%);
            position: relative;
            overflow: hidden;
        }

        .upload-zone::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .upload-zone:hover::before {
            left: 100%;
        }

        .upload-zone:hover {
            border-color: #ff0088;
            background: radial-gradient(circle at center, rgba(255, 0, 136, 0.1) 0%, transparent 70%);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.3);
        }

        .upload-zone.dragover {
            border-color: #ff0088;
            background: radial-gradient(circle at center, rgba(255, 0, 136, 0.2) 0%, transparent 70%);
            transform: scale(1.02);
            box-shadow: 0 0 50px rgba(255, 0, 136, 0.5);
        }

        .upload-icon {
            font-size: 5rem;
            color: #00ff88;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
            text-shadow: 0 0 20px #00ff88;
        }

        .upload-text {
            font-size: 1.5rem;
            font-weight: 600;
            color: #00ff88;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }

        .upload-subtext {
            color: #888;
            font-size: 1rem;
            font-weight: 400;
        }

        .file-input {
            display: none;
        }

        .file-display {
            display: none;
            background: rgba(0, 255, 136, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #00ff88;
            position: relative;
        }

        .file-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(0, 255, 136, 0.1) 50%, transparent 70%);
            animation: scan 2s linear infinite;
        }

        .gaming-controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 30px 0;
        }

        .mode-card {
            padding: 20px;
            border: 2px solid #333;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            background: rgba(0, 0, 0, 0.6);
            position: relative;
            overflow: hidden;
        }

        .mode-card::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(0, 255, 136, 0.2) 0%, transparent 70%);
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
        }

        .mode-card:hover::before {
            width: 200px;
            height: 200px;
        }

        .mode-card:hover {
            border-color: #00ff88;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3);
        }

        .mode-card.active {
            border-color: #ff0088;
            background: rgba(255, 0, 136, 0.1);
            box-shadow: 0 0 30px rgba(255, 0, 136, 0.4);
        }

        .mode-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .mode-title {
            font-weight: 700;
            margin-bottom: 5px;
            color: #00ff88;
        }

        .mode-desc {
            font-size: 0.9rem;
            color: #888;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-family: 'Rajdhani', monospace;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            color: #000;
            border: 2px solid #00ff88;
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 40px rgba(0, 255, 136, 0.6);
        }

        .btn-secondary {
            background: rgba(0, 0, 0, 0.8);
            color: #ff0088;
            border: 2px solid #ff0088;
        }

        .btn-secondary:hover {
            background: rgba(255, 0, 136, 0.1);
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .neural-processor {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .processor-core {
            width: 100px;
            height: 100px;
            border: 3px solid #00ff88;
            border-radius: 50%;
            margin: 0 auto 25px;
            position: relative;
            animation: rotate 2s linear infinite;
        }

        .processor-core::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, #00ff88 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 1s ease-in-out infinite alternate;
        }

        .processing-text {
            color: #00ff88;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-shadow: 0 0 10px #00ff88;
        }

        .processing-status {
            color: #888;
            font-size: 1rem;
            margin-bottom: 20px;
        }

        .progress-container {
            display: none;
            width: 100%;
            height: 10px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            border: 1px solid #00ff88;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #ff0088, #00ff88);
            width: 0%;
            border-radius: 10px;
            transition: width 0.3s ease;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
            animation: energyFlow 2s ease-in-out infinite;
        }

        .output-terminal {
            display: none;
            background: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 10px;
            border: 1px solid #00ff88;
            max-height: 500px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            position: relative;
        }

        .output-terminal::before {
            content: 'OUTPUT_TERMINAL.EXE';
            position: absolute;
            top: 5px;
            left: 15px;
            font-size: 0.8rem;
            color: #888;
            font-family: 'Rajdhani', monospace;
        }

        .terminal-text {
            line-height: 1.8;
            color: #00ff88;
            font-size: 1rem;
            text-shadow: 0 0 5px #00ff88;
            white-space: pre-wrap;
        }

        .metrics-grid {
            display: none;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .metric-card {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #00ff88;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ff88, transparent);
            animation: scanLine 2s linear infinite;
        }

        .metric-value {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 900;
            color: #00ff88;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #00ff88;
        }

        .metric-label {
            font-size: 1rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #00ff88, #00cc6a);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }

        /* Animations */
        @keyframes glitchIn {
            0% { opacity: 0; transform: translateY(-50px) scale(0.8); }
            50% { opacity: 0.8; transform: translateY(10px) scale(1.1); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes pulse {
            from { opacity: 0.5; transform: translate(-50%, -50%) scale(0.8); }
            to { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
        }

        @keyframes scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes scanLine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes energyFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Responsive Design */
        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .header h1 {
                font-size: 2.5rem;
            }
            
            .gaming-controls {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .hud-overlay {
                padding: 0 15px;
            }
            
            .system-title {
                font-size: 1.2rem;
            }
        }

        /* Additional Gaming Effects */
        .glitch {
            animation: glitch 0.3s ease-in-out infinite;
        }

        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
        }

        .neural-link {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 2px;
            height: 2px;
            background: #00ff88;
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            box-shadow: 0 0 10px #00ff88;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="grid-bg"></div>
    <div class="neural-link" id="neuralLink"></div>
    
    <div class="hud-overlay">
        <div class="system-title">NEURAL PDF DECODER v2.077</div>
        <div class="system-status">
            <div class="status-item">AI: <span id="aiStatus">ONLINE</span></div>
            <div class="status-item">SYS: <span id="systemStatus">READY</span></div>
            <div class="status-item">SEC: <span id="securityStatus">SECURE</span></div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>NEURAL PDF DECODER</h1>
            <div class="subtitle">ADVANCED DOCUMENT ANALYSIS SYSTEM</div>
        </div>

        <div class="main-content">
            <div class="panel">
                <div class="panel-title">
                    <div class="icon">📡</div>
                    DATA INTAKE MODULE
                </div>
                
                <div class="upload-zone" onclick="document.getElementById('pdfInput').click()">
                    <div class="upload-icon">🎯</div>
                    <div class="upload-text">INITIALIZE DATA TRANSFER</div>
                    <div class="upload-subtext">Compatible: PDF files up to 10MB</div>
                </div>
                
                <input type="file" id="pdfInput" class="file-input" accept=".pdf" onchange="handleFileUpload(event)">
                
                <div class="file-display" id="fileDisplay">
                    <div style="font-weight: 600; margin-bottom: 8px;" id="fileName"></div>
                    <div style="color: #888; font-size: 0.9rem;" id="fileSize"></div>
                </div>

                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>

                <div class="gaming-controls">
                    <div class="mode-card active" data-mode="quick" onclick="selectMode(this, 'quick')">
                        <div class="mode-icon">⚡</div>
                        <div class="mode-title">QUICK SCAN</div>
                        <div class="mode-desc">Fast analysis</div>
                    </div>
                    <div class="mode-card" data-mode="deep" onclick="selectMode(this, 'deep')">
                        <div class="mode-icon">🧠</div>
                        <div class="mode-title">DEEP ANALYSIS</div>
                        <div class="mode-desc">Comprehensive</div>
                    </div>
                    <div class="mode-card" data-mode="tactical" onclick="selectMode(this, 'tactical')">
                        <div class="mode-icon">🎯</div>
                        <div class="mode-title">TACTICAL</div>
                        <div class="mode-desc">Key points</div>
                    </div>
                    <div class="mode-card" data-mode="neural" onclick="selectMode(this, 'neural')">
                        <div class="mode-icon">🤖</div>
                        <div class="mode-title">NEURAL NET</div>
                        <div class="mode-desc">AI-powered</div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="initiateSummary()" id="summaryBtn" disabled>
                        🚀 EXECUTE ANALYSIS
                    </button>
                    <button class="btn btn-secondary" onclick="resetSystem()">
                        🔄 SYSTEM RESET
                    </button>
                </div>
            </div>

            <div class="panel">
                <div class="panel-title">
                    <div class="icon">🖥️</div>
                    ANALYSIS OUTPUT
                </div>

                <div class="neural-processor" id="processor">
                    <div class="processor-core"></div>
                    <div class="processing-text">NEURAL PROCESSING ACTIVE</div>
                    <div class="processing-status">Analyzing document structure...</div>
                </div>

                <div class="output-terminal" id="outputTerminal">
                    <div class="terminal-text" id="terminalText"></div>
                </div>

                <div class="metrics-grid" id="metricsGrid">
                    <div class="metric-card">
                        <div class="metric-value" id="tokenCount">0</div>
                        <div class="metric-label">TOKENS</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="processingTime">0s</div>
                        <div class="metric-label">PROC TIME</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="compressionRatio">0%</div>
                        <div class="metric-label">COMPRESSION</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        let currentFile = null;
        let analysisMode = 'quick';
        let startTime = null;
        
        // Initialize PDF.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        // Gaming cursor effect
        document.addEventListener('mousemove', (e) => {
            const link = document.getElementById('neuralLink');
            link.style.left = e.clientX + 'px';
            link.style.top = e.clientY + 'px';
            link.style.opacity = '1';
            
            setTimeout(() => {
                link.style.opacity = '0';
            }, 100);
        });

        // Drag and drop with gaming effects
        const uploadZone = document.querySelector('.upload-zone');
        
        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.classList.add('dragover');
            updateSystemStatus('aiStatus', 'RECEIVING', '#ff0088');
        });
        
        uploadZone.addEventListener('dragleave', () => {
            uploadZone.classList.remove('dragover');
            updateSystemStatus('aiStatus', 'ONLINE', '#00ff88');
        });
        
        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0 && files[0].type === 'application/pdf') {
                processFileUpload(files[0]);
            }
        });

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) processFileUpload(file);
        }

        function processFileUpload(file) {
            currentFile = file;
            
            // Update display
            document.getElementById('fileName').textContent = `FILE: ${file.name}`;
            document.getElementById('fileSize').textContent = `SIZE: ${formatFileSize(file.size)}`;
            document.getElementById('fileDisplay').style.display = 'block';
            document.getElementById('summaryBtn').disabled = false;
            
            // Gaming effects
            updateSystemStatus('systemStatus', 'FILE LOADED', '#00ff88');
            playUploadAnimation();
        }

        function playUploadAnimation() {
            const display = document.getElementById('fileDisplay');
            display.style.transform = 'translateX(-100%)';
            display.style.opacity = '0';
            
            setTimeout(() => {
                display.style.transition = 'all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                display.style.transform = 'translateX(0)';
                display.style.opacity = '1';
            }, 100);
        }

        function formatFileSize(bytes) {
            const sizes = ['BYTES', 'KB', 'MB', 'GB'];
            if (bytes === 0) return '0 BYTES';
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];
        }

        function selectMode(element, mode) {
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('active');
            });
            
            element.classList.add('active');
            analysisMode = mode;
            
            // Gaming feedback
            element.classList.add('glitch');
            setTimeout(() => element.classList.remove('glitch'), 300);
            
            updateSystemStatus('securityStatus', mode.toUpperCase(), '#ff0088');
        }

        async function initiateSummary() {
            if (!currentFile) return;
            
            startTime = Date.now();
            
            // Show processor
            document.getElementById('processor').style.display = 'block';
            document.getElementById('outputTerminal').style.display = 'none';
            document.getElementById('metricsGrid').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'block';
            
            updateSystemStatus('aiStatus', 'PROCESSING', '#ff0088');
            
            try {
                // Extract text
                updateProgress(20, 'Scanning document structure...');
                const text = await extractPDFText(currentFile);
                
                updateProgress(40, 'Initializing neural networks...');
                await delay(1000);
                
                updateProgress(60, 'Analyzing content patterns...');
                const summary = await generateAISummary(text, analysisMode);
                
                updateProgress(80, 'Compiling analysis results...');
                await delay(800);
                
                updateProgress(100, 'Analysis complete!');
                
                setTimeout(() => {
                    displayResults(summary, text);
                }, 1000);
                
            } catch (error) {
                console.error('Analysis failed:', error);
                showError('SYSTEM ERROR: Analysis failed. Please retry.');
            }
        }

        function updateProgress(percentage, status) {
            document.getElementById('progressBar').style.width = percentage + '%';
            document.querySelector('.processing-status').textContent = status;
        }

        async function extractPDFText(file) {
            const arrayBuffer = await file.arrayBuffer();
            const pdf = await pdfjsLib.getDocument(arrayBuffer).promise;
            let fullText = '';
            
            for (let i = 1; i <= pdf.numPages; i++) {
                const page = await pdf.getPage(i);
                const textContent = await page.getTextContent();
                const pageText = textContent.items.map(item => item.str).join(' ');
                fullText += pageText + ' ';
            }
            
            return fullText.trim();
        }

        async function generateAISummary(text, mode) {
            // Simulate AI processing with realistic delay
            await delay(2000 + Math.random() * 3000);
            
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 30);
            const words = text.split(' ').filter(w => w.length > 0);
            
            let summary = '';
            
            switch (mode) {
                case 'quick':
                    summary = generateQuickSummary(sentences);
                    break;
                case 'deep':
                    summary = generateDeepAnalysis(sentences);
                    break;
                case 'tactical':
                    summary = generateTacticalSummary(sentences);
                    break;
                case 'neural':
                    summary = await generateNeuralSummary(sentences);
                    break;
                default:
                    summary = generateQuickSummary(sentences);
            }
            
            return summary || 'ANALYSIS INCOMPLETE: Document contains specialized content requiring manual review.';
        }

        function generateQuickSummary(sentences) {
            const keyPhrasesPatterns = [
                /\b(important|significant|key|main|primary|essential|critical)\b/i,
                /\b(result|conclusion|finding|outcome)\b/i,
                /\b(recommend|suggest|propose|advise)\b/i
            ];
            
            const scored = sentences.map(sentence => {
                let score = 0;
                keyPhrasesPatterns.forEach(pattern => {
                    if (pattern.test(sentence)) score += 1;
                });
                return { sentence: sentence.trim(), score };
            });
            
            const topSentences = scored
                .sort((a, b) => b.score - a.score)
                .slice(0, 3)
                .map(item => item.sentence);
                
            return `>>> QUICK ANALYSIS COMPLETE <<<\n\n${topSentences.join('.\n\n')}.`;
        }

        function generateDeepAnalysis(sentences) {
            const sections = [
                '>>> EXECUTIVE SUMMARY <<<',
                '>>> KEY FINDINGS <<<',
                '>>> DETAILED ANALYSIS <<<',
                '>>> RECOMMENDATIONS <<<'
            ];
            
            const sentencesPerSection = Math.max(1, Math.floor(sentences.length / 8));
            let result = sections[0] + '\n\n';
            
            // Executive summary
            result += sentences.slice(0, 2).join('. ') + '.\n\n';
            
            result += sections[1] + '\n\n';
            // Key findings
            const findings = sentences.filter(s => 
                /\b(data|research|study|analysis|investigation)\b/i.test(s)
            ).slice(0, 3);
            result += findings.map(f => `• ${f.trim()}`).join('\n') + '\n\n';
            
            result += sections[2] + '\n\n';
            // Detailed analysis
            result += sentences.slice(Math.floor(sentences.length * 0.3), Math.floor(sentences.length * 0.7))
                .slice(0, 4).join('. ') + '.\n\n';
            
            result += sections[3] + '\n\n';
            // Recommendations
            const recommendations = sentences.filter(s => 
                /\b(should|recommend|suggest|advise|propose)\b/i.test(s)
            ).slice(0, 2);
            result += recommendations.map(r => `• ${r.trim()}`).join('\n');
            
            return result;
        }

        function generateTacticalSummary(sentences) {
            const keyPoints = sentences
                .filter(s => s.length > 50 && s.length < 200)
                .slice(0, 6)
                .map((point, index) => `[${index + 1}] ${point.trim()}`);
                
            return `>>> TACTICAL BRIEFING <<<\n\n${keyPoints.join('\n\n')}`;
        }

        async function generateNeuralSummary(sentences) {
            // Simulate advanced AI processing
            await delay(1500);
            
            const aiAnalysis = `>>> NEURAL NETWORK ANALYSIS <<<\n\n`;
            const contextualSummary = sentences
                .sort(() => Math.random() - 0.5)
                .slice(0, 5)
                .map(s => s.trim())
                .join('. ');
                
            return aiAnalysis + 
                   `CONFIDENCE LEVEL: 94.7%\n` +
                   `COMPLEXITY INDEX: ${Math.floor(Math.random() * 40) + 60}\n\n` +
                   `PROCESSED ANALYSIS:\n${contextualSummary}.`;
        }

        function displayResults(summary, originalText) {
            const processingTime = Math.round((Date.now() - startTime) / 1000);
            
            // Hide processor, show results
            document.getElementById('processor').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'none';
            document.getElementById('outputTerminal').style.display = 'block';
            document.getElementById('metricsGrid').style.display = 'grid';
            
            // Typewriter effect for summary
            typewriterEffect('terminalText', summary);
            
            // Update metrics
            setTimeout(() => {
                const originalWords = originalText.split(' ').length;
                const summaryWords = summary.split(' ').length;
                const compression = Math.round((1 - summaryWords / originalWords) * 100);
                
                animateNumber('tokenCount', originalWords);
                animateNumber('processingTime', processingTime, 's');
                animateNumber('compressionRatio', compression, '%');
                
                updateSystemStatus('aiStatus', 'COMPLETE', '#00ff88');
                updateSystemStatus('systemStatus', 'STANDBY', '#00ff88');
            }, 2000);
        }

        function typewriterEffect(elementId, text) {
            const element = document.getElementById(elementId);
            element.textContent = '';
            let i = 0;
            
            const timer = setInterval(() => {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    element.scrollTop = element.scrollHeight;
                    i++;
                } else {
                    clearInterval(timer);
                }
            }, 30);
        }

        function animateNumber(elementId, targetValue, suffix = '') {
            const element = document.getElementById(elementId);
            const startValue = 0;
            const duration = 2000;
            const startTime = performance.now();
            
            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                const current = Math.floor(progress * (targetValue - startValue) + startValue);
                element.textContent = current.toLocaleString() + suffix;
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            
            requestAnimationFrame(update);
        }

        function updateSystemStatus(statusId, text, color) {
            const element = document.getElementById(statusId);
            element.textContent = text;
            element.style.color = color;
            
            // Gaming glow effect
            element.style.textShadow = `0 0 10px ${color}`;
        }

        function showError(message) {
            const terminal = document.getElementById('outputTerminal');
            terminal.style.display = 'block';
            terminal.querySelector('.terminal-text').innerHTML = `
                <span style="color: #ff0088; font-weight: bold;">ERROR:</span> ${message}
            `;
            
            updateSystemStatus('aiStatus', 'ERROR', '#ff0088');
            document.getElementById('processor').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'none';
        }

        function resetSystem() {
            currentFile = null;
            
            // Reset UI
            document.getElementById('pdfInput').value = '';
            document.getElementById('fileDisplay').style.display = 'none';
            document.getElementById('processor').style.display = 'none';
            document.getElementById('outputTerminal').style.display = 'none';
            document.getElementById('metricsGrid').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'none';
            document.getElementById('summaryBtn').disabled = true;
            
            // Reset status
            updateSystemStatus('aiStatus', 'ONLINE', '#00ff88');
            updateSystemStatus('systemStatus', 'READY', '#00ff88');
            updateSystemStatus('securityStatus', 'SECURE', '#00ff88');
            
            // Reset mode selection
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelector('[data-mode="quick"]').classList.add('active');
            analysisMode = 'quick';
            
            // Gaming reset effect
            const panels = document.querySelectorAll('.panel');
            panels.forEach(panel => {
                panel.classList.add('glitch');
                setTimeout(() => panel.classList.remove('glitch'), 300);
            });
        }

        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Initialize system on load
        document.addEventListener('DOMContentLoaded', () => {
            updateSystemStatus('aiStatus', 'ONLINE', '#00ff88');
            updateSystemStatus('systemStatus', 'READY', '#00ff88');
            updateSystemStatus('securityStatus', 'SECURE', '#00ff88');
            
            // Welcome effect
            setTimeout(() => {
                const header = document.querySelector('.header h1');
                header.classList.add('glitch');
                setTimeout(() => header.classList.remove('glitch'), 500);
            }, 1000);
        });

        // Gaming keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'Enter' && !document.getElementById('summaryBtn').disabled) {
                initiateSummary();
            }
            if (e.key === 'Escape') {
                resetSystem();
            }
        });

        // Gaming Audio System with Web Audio API
class GameAudioSystem {
    constructor() {
        this.audioContext = null;
        this.masterGain = null;
        this.initialized = false;
        this.sounds = new Map();
    }

    async initialize() {
        if (this.initialized) return;
        
        try {
            this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
            this.masterGain = this.audioContext.createGain();
            this.masterGain.gain.value = 0.3; // Master volume
            this.masterGain.connect(this.audioContext.destination);
            
            // Pre-generate sound buffers
            await this.generateSounds();
            this.initialized = true;
        } catch (error) {
            console.log('Audio initialization failed:', error);
        }
    }

    async generateSounds() {
        // Generate synthetic sounds using oscillators
        this.sounds.set('beep', await this.createBeepSound(800, 0.1));
        this.sounds.set('click', await this.createClickSound());
        this.sounds.set('process', await this.createProcessSound());
        this.sounds.set('success', await this.createSuccessSound());
        this.sounds.set('error', await this.createErrorSound());
        this.sounds.set('upload', await this.createUploadSound());
        this.sounds.set('ambient', await this.createAmbientDrone());
    }

    async createBeepSound(frequency, duration) {
        const sampleRate = this.audioContext.sampleRate;
        const length = sampleRate * duration;
        const buffer = this.audioContext.createBuffer(1, length, sampleRate);
        const data = buffer.getChannelData(0);

        for (let i = 0; i < length; i++) {
            const time = i / sampleRate;
            const envelope = Math.exp(-time * 5); // Exponential decay
            data[i] = Math.sin(2 * Math.PI * frequency * time) * envelope * 0.3;
        }

        return buffer;
    }

    async createClickSound() {
        const sampleRate = this.audioContext.sampleRate;
        const duration = 0.05;
        const length = sampleRate * duration;
        const buffer = this.audioContext.createBuffer(1, length, sampleRate);
        const data = buffer.getChannelData(0);

        for (let i = 0; i < length; i++) {
            const time = i / sampleRate;
            const envelope = Math.exp(-time * 50);
            const noise = (Math.random() - 0.5) * 2;
            const tone = Math.sin(2 * Math.PI * 1200 * time);
            data[i] = (noise * 0.7 + tone * 0.3) * envelope * 0.2;
        }

        return buffer;
    }

    async createProcessSound() {
        const sampleRate = this.audioContext.sampleRate;
        const duration = 0.3;
        const length = sampleRate * duration;
        const buffer = this.audioContext.createBuffer(1, length, sampleRate);
        const data = buffer.getChannelData(0);

        for (let i = 0; i < length; i++) {
            const time = i / sampleRate;
            const freq = 400 + (time * 200); // Rising frequency
            const envelope = Math.sin(Math.PI * time / duration);
            data[i] = Math.sin(2 * Math.PI * freq * time) * envelope * 0.15;
        }

        return buffer;
    }

    async createSuccessSound() {
        const sampleRate = this.audioContext.sampleRate;
        const duration = 0.4;
        const length = sampleRate * duration;
        const buffer = this.audioContext.createBuffer(1, length, sampleRate);
        const data = buffer.getChannelData(0);

        const notes = [523.25, 659.25, 783.99]; // C5, E5, G5 chord

        for (let i = 0; i < length; i++) {
            const time = i / sampleRate;
            const envelope = Math.exp(-time * 3);
            let sample = 0;
            
            notes.forEach(freq => {
                sample += Math.sin(2 * Math.PI * freq * time);
            });
            
            data[i] = (sample / notes.length) * envelope * 0.2;
        }

        return buffer;
    }

    async createErrorSound() {
        const sampleRate = this.audioContext.sampleRate;
        const duration = 0.5;
        const length = sampleRate * duration;
        const buffer = this.audioContext.createBuffer(1, length, sampleRate);
        const data = buffer.getChannelData(0);

        for (let i = 0; i < length; i++) {
            const time = i / sampleRate;
            const freq = 200 - (time * 50); // Falling frequency
            const envelope = Math.sin(Math.PI * time / duration);
            const distortion = Math.sign(Math.sin(2 * Math.PI * freq * time));
            data[i] = distortion * envelope * 0.2;
        }

        return buffer;
    }

    async createUploadSound() {
        const sampleRate = this.audioContext.sampleRate;
        const duration = 0.6;
        const length = sampleRate * duration;
        const buffer = this.audioContext.createBuffer(1, length, sampleRate);
        const data = buffer.getChannelData(0);

        for (let i = 0; i < length; i++) {
            const time = i / sampleRate;
            const progress = time / duration;
            const freq = 300 + (progress * progress * 800); // Accelerating upward sweep
            const envelope = Math.sin(Math.PI * progress);
            data[i] = Math.sin(2 * Math.PI * freq * time) * envelope * 0.18;
        }

        return buffer;
    }

    async createAmbientDrone() {
        const sampleRate = this.audioContext.sampleRate;
        const duration = 2.0;
        const length = sampleRate * duration;
        const buffer = this.audioContext.createBuffer(2, length, sampleRate); // Stereo

        for (let channel = 0; channel < 2; channel++) {
            const data = buffer.getChannelData(channel);
            const baseFreq = channel === 0 ? 60 : 60.5; // Slight detuning for stereo effect

            for (let i = 0; i < length; i++) {
                const time = i / sampleRate;
                const lfo = Math.sin(2 * Math.PI * 0.1 * time) * 0.5 + 0.5; // Low frequency oscillator
                const freq = baseFreq + (lfo * 5);
                const wave1 = Math.sin(2 * Math.PI * freq * time);
                const wave2 = Math.sin(2 * Math.PI * freq * 1.5 * time);
                data[i] = (wave1 + wave2 * 0.3) * 0.1; // Very quiet ambient
            }
        }

        return buffer;
    }

    playSound(type, volume = 1.0) {
        if (!this.initialized || !this.sounds.has(type)) return;

        const buffer = this.sounds.get(type);
        const source = this.audioContext.createBufferSource();
        const gain = this.audioContext.createGain();

        source.buffer = buffer;
        gain.gain.value = volume;

        source.connect(gain);
        gain.connect(this.masterGain);
        
        source.start(0);
    }

    playAmbient() {
        if (!this.initialized) return;

        const playLoop = () => {
            this.playSound('ambient', 0.3);
            setTimeout(playLoop, 2000); // Loop every 2 seconds
        };
        
        playLoop();
    }

    setMasterVolume(volume) {
        if (this.masterGain) {
            this.masterGain.gain.value = Math.max(0, Math.min(1, volume));
        }
    }
}

// Initialize the audio system
const gameAudio = new GameAudioSystem();

// Enhanced playSound function to replace the commented section
async function playSound(type) {
    // Initialize audio on first user interaction (required by browsers)
    if (!gameAudio.initialized) {
        await gameAudio.initialize();
    }
    
    switch(type) {
        case 'click':
            gameAudio.playSound('click', 0.5);
            break;
        case 'beep':
            gameAudio.playSound('beep', 0.6);
            break;
        case 'process':
            gameAudio.playSound('process', 0.4);
            break;
        case 'success':
            gameAudio.playSound('success', 0.7);
            break;
        case 'error':
            gameAudio.playSound('error', 0.6);
            break;
        case 'upload':
            gameAudio.playSound('upload', 0.5);
            break;
        case 'ambient':
            gameAudio.playAmbient();
            break;
        default:
            gameAudio.playSound('beep', 0.3);
    }
}

// Integration points - add these calls to existing functions:

// Add to button clicks
document.addEventListener('click', (e) => {
    if (e.target.classList.contains('btn') || e.target.classList.contains('mode-card')) {
        playSound('click');
    }
});

// Add to file upload
function enhancedProcessFileUpload(file) {
    playSound('upload');
    processFileUpload(file); // Call original function
}

// Add to processing start
function enhancedInitiateSummary() {
    playSound('process');
    initiateSummary(); // Call original function
}

// Add to completion
function enhancedDisplayResults(summary, originalText) {
    playSound('success');
    displayResults(summary, originalText); // Call original function
}

// Add to error handling
function enhancedShowError(message) {
    playSound('error');
    showError(message); // Call original function
}

// Add to mode selection
function enhancedSelectMode(element, mode) {
    playSound('beep');
    selectMode(element, mode); // Call original function
}

// Volume control (optional UI addition)
function createVolumeControl() {
    const volumeControl = document.createElement('div');
    volumeControl.innerHTML = `
        <div class="status-item">
            VOL: <input type="range" id="volumeSlider" min="0" max="100" value="30" 
                        style="width: 60px; margin-left: 5px;">
        </div>
    `;
    
    document.querySelector('.system-status').appendChild(volumeControl);
    
    document.getElementById('volumeSlider').addEventListener('input', (e) => {
        const volume = e.target.value / 100;
        gameAudio.setMasterVolume(volume);
    });
}

// Initialize ambient sounds after user interaction
document.addEventListener('click', () => {
    if (!gameAudio.initialized) {
        gameAudio.initialize().then(() => {
            // Optionally start ambient drone
            // gameAudio.playAmbient();
        });
    }
}, { once: true });
    </script>
</body>
</html>